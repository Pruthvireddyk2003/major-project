{"version":3,"sources":["turbopack:///[project]/app/login/LoginForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { motion } from \"framer-motion\";\nimport toast from \"react-hot-toast\";\n\nexport default function LoginForm() {\n  const router = useRouter();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      const res = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email, password }),\n      });\n\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error || \"Login failed\");\n\n      localStorage.setItem(\"token\", data.token);\n      localStorage.setItem(\"driverId\", data.driver.id);\n\n      toast.success(`Welcome, ${data.driver.name}!`);\n      router.push(\"/\");\n    } catch (err: any) {\n      toast.error(err.message || \"Invalid credentials\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <motion.form\n      onSubmit={handleSubmit}\n      className=\"relative space-y-6 bg-white p-8 rounded-3xl shadow-2xl w-full max-w-md z-20\"\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.7 }}\n    >\n      <h2 className=\"text-2xl font-bold text-center mb-6 text-gray-800\">\n        Welcome Back\n      </h2>\n\n      <div className=\"relative\">\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition peer\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n        />\n        <motion.div\n          className=\"absolute bottom-0 left-0 h-1 bg-blue-400 rounded-full\"\n          initial={{ width: 0 }}\n          animate={{ width: email ? \"100%\" : 0 }}\n          transition={{ duration: 0.3 }}\n        />\n      </div>\n\n      <div className=\"relative\">\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition peer\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n        />\n        <motion.div\n          className=\"absolute bottom-0 left-0 h-1 bg-blue-400 rounded-full\"\n          initial={{ width: 0 }}\n          animate={{ width: password ? \"100%\" : 0 }}\n          transition={{ duration: 0.3 }}\n        />\n      </div>\n\n      <motion.button\n        type=\"submit\"\n        disabled={loading}\n        whileHover={{ scale: 1.05 }}\n        whileTap={{ scale: 0.95 }}\n        className=\"w-full bg-blue-500 text-white py-3 rounded-lg hover:bg-blue-600 transition disabled:opacity-60 font-semibold\"\n      >\n        {loading ? \"Logging in...\" : \"Login\"}\n      </motion.button>\n    </motion.form>\n  );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAEjC,EAAe,MAAO,IAC1B,EAAE,cAAc,GAChB,GAAW,GAEX,GAAI,CACF,IAAM,EAAM,MAAM,MAAM,kBAAmB,CACzC,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,OAAE,WAAO,CAAS,EACzC,GAEM,EAAO,MAAM,EAAI,IAAI,GAC3B,GAAI,CAAC,EAAI,EAAE,CAAE,MAAM,AAAI,MAAM,EAAK,KAAK,EAAI,gBAE3C,aAAa,OAAO,CAAC,QAAS,EAAK,KAAK,EACxC,aAAa,OAAO,CAAC,WAAY,EAAK,MAAM,CAAC,EAAE,EAE/C,EAAA,OAAK,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAK,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAC7C,EAAO,IAAI,CAAC,IACd,CAAE,MAAO,EAAU,CACjB,EAAA,OAAK,CAAC,KAAK,CAAC,EAAI,OAAO,EAAI,sBAC7B,QAAU,CACR,GAAW,EACb,CACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,IAAI,CAAA,CACV,SAAU,EACV,UAAU,8EACV,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,WAAY,CAAE,SAAU,EAAI,YAE5B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6DAAoD,iBAIlE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,YAAY,QACZ,UAAU,yHACV,MAAO,EACP,SAAW,AAAD,GAAO,EAAS,EAAE,MAAM,CAAC,KAAK,EACxC,QAAQ,CAAA,CAAA,IAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,UAAU,wDACV,QAAS,CAAE,MAAO,CAAE,EACpB,QAAS,CAAE,MAAO,EAAQ,OAAS,CAAE,EACrC,WAAY,CAAE,SAAU,EAAI,OAIhC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,YAAY,WACZ,UAAU,yHACV,MAAO,EACP,SAAU,AAAC,GAAM,EAAY,EAAE,MAAM,CAAC,KAAK,EAC3C,QAAQ,CAAA,CAAA,IAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,UAAU,wDACV,QAAS,CAAE,MAAO,CAAE,EACpB,QAAS,CAAE,MAAO,EAAW,OAAS,CAAE,EACxC,WAAY,CAAE,SAAU,EAAI,OAIhC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,MAAM,CAAA,CACZ,KAAK,SACL,SAAU,EACV,WAAY,CAAE,MAAO,IAAK,EAC1B,SAAU,CAAE,MAAO,GAAK,EACxB,UAAU,wHAET,EAAU,gBAAkB,YAIrC"}